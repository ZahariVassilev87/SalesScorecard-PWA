# üì¶ –ö–∞–∫ –¥–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ backup –ø—Ä–∏ –Ω—É–∂–¥–∞

## üìÅ –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ backup-–∞

Backup-—ä—Ç —Å–µ –Ω–∞–º–∏—Ä–∞ –≤:
```
production-backend/backups/backup-2025-11-17T17-42-16/
```

## üìã –§–∞–π–ª–æ–≤–µ –≤ backup-–∞

1. **backup.json** - –ü—ä–ª–µ–Ω JSON backup (–ª–µ—Å–µ–Ω –∑–∞ —á–µ—Ç–µ–Ω–µ –∏ –∞–Ω–∞–ª–∏–∑)
2. **backup.sql** - SQL INSERT statements (–∑–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ)
3. **summary.txt** - –†–µ–∑—é–º–µ —Å –±—Ä–æ–π —Ä–µ–¥–æ–≤–µ –ø–æ —Ç–∞–±–ª–∏—Ü–∏

## üîÑ –ö–∞–∫ –¥–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –æ—Ç SQL —Ñ–∞–π–ª (–Ω–∞–π-–ª–µ—Å–Ω–æ)

```bash
cd production-backend

# –ó–∞–¥–∞–π—Ç–µ DATABASE_URL
export DATABASE_URL="postgresql://postgres:SalesScorecard2024!@sales-scorecard-db.cvmwi48oaptu.eu-north-1.rds.amazonaws.com:5432/sales_scorecard"

# –í—ä–∑—Å—Ç–∞–Ω–æ–≤–µ—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ
psql $DATABASE_URL < backups/backup-2025-11-17T17-42-16/backup.sql
```

**–í–∞–∂–Ω–æ:** –¢–æ–≤–∞ —â–µ –¥–æ–±–∞–≤–∏ –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç–Ω–æ–≤–æ (–Ω–µ —â–µ –∏–∑—Ç—Ä–∏–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—Ç–µ, –∑–∞—Ä–∞–¥–∏ `ON CONFLICT DO NOTHING`).

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞

–ê–∫–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∞–º–æ –µ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞:

```bash
# –ò–∑–≤–ª–µ—á–µ—Ç–µ —Å–∞–º–æ INSERT statements –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞
grep "INSERT INTO users" backups/backup-2025-11-17T17-42-16/backup.sql | psql $DATABASE_URL
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ç–µ–Ω–µ –Ω–∞ JSON backup

–ó–∞ –∞–Ω–∞–ª–∏–∑ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ:

```bash
# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ jq (–∞–∫–æ –Ω—è–º–∞—Ç–µ)
# brew install jq  # –Ω–∞ macOS

# –í–∏–∂—Ç–µ –≤—Å–∏—á–∫–∏ users
cat backups/backup-2025-11-17T17-42-16/backup.json | jq '.tables.users.data'

# –í–∏–∂—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –æ—Ü–µ–Ω–∫–∞
cat backups/backup-2025-11-17T17-42-16/backup.json | jq '.tables.evaluations.data[] | select(.id == "eval_xxx")'
```

## üìä –ö–∞–∫–≤–æ –µ –≤–∫–ª—é—á–µ–Ω–æ –≤ backup-–∞

- **156 users** (149 METRO + 7 Instorm)
- **62 evaluations** (55 METRO + 7 Instorm)
- **967 evaluation_items**
- **22 teams** (21 METRO + 1 Instorm)
- **155 user_teams**
- **14 behavior_categories**
- **53 behavior_items**
- **2 regions**
- **1 user_regions**

**–û–±—â–æ: 1,432 —Ä–µ–¥–∞ –¥–∞–Ω–Ω–∏**

## ‚ö†Ô∏è –í–∞–∂–Ω–∏ –±–µ–ª–µ–∂–∫–∏

1. **Backup-—ä—Ç –µ READ-ONLY** - –Ω–µ –ø—Ä–æ–º–µ–Ω—è –Ω–∏—â–æ –≤ –±–∞–∑–∞—Ç–∞
2. **SQL —Ñ–∞–π–ª—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ `ON CONFLICT DO NOTHING`** - –Ω—è–º–∞ –¥–∞ –ø—Ä–µ–∑–∞–ø–∏—à–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏ –¥–∞–Ω–Ω–∏
3. **–ê–∫–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑—Ç—Ä–∏–µ—Ç–µ –¥–∞–Ω–Ω–∏ –ø—Ä–µ–¥–∏ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ**, —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç–µ —Ä—ä—á–Ω–æ

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç

- Backup-—ä—Ç —Å—ä–¥—ä—Ä–∂–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏ –¥–∞–Ω–Ω–∏ (emails, –æ—Ü–µ–Ω–∫–∏)
- –ù–µ —Å–ø–æ–¥–µ–ª—è–π—Ç–µ backup —Ñ–∞–π–ª–æ–≤–µ—Ç–µ –ø—É–±–ª–∏—á–Ω–æ
- –°—ä—Ö—Ä–∞–Ω—è–≤–∞–π—Ç–µ –≥–∏ –Ω–∞ —Å–∏–≥—É—Ä–Ω–æ –º—è—Å—Ç–æ

## üìÖ –î–∞—Ç–∞ –Ω–∞ backup-–∞

**–°—ä–∑–¥–∞–¥–µ–Ω:** 2025-11-17T17:42:16

## üÜò –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∏

–ê–∫–æ –∏–º–∞—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏ —Å –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ—Ç–æ:
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `DATABASE_URL` –µ –ø—Ä–∞–≤–∏–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –∏–º–∞—Ç–µ –¥–æ—Å—Ç—ä–ø –¥–æ –±–∞–∑–∞—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Ç–∞–±–ª–∏—Ü–∏—Ç–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç
4. –í–∏–∂—Ç–µ `summary.txt` –∑–∞ –¥–µ—Ç–∞–π–ª–∏


